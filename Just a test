local NEVERLOSE = loadstring(game:HttpGet("https://raw.githubusercontent.com/IayZBoy/TrollScripts/main/randomuilib.lua"))()

local Notification = NEVERLOSE.Notification()
NEVERLOSE:Theme("dark")

-- UI Initialization
local Window = NEVERLOSE:AddWindow("Fishing Script", "Fishing Bot - Enhanced Version")

-- Variables
local autoShake = false
local autoShake2 = false
local autoReel = false
local autoCast = false
local autoShakeDelay = 0.3

local VirtualInputManager = game:GetService("VirtualInputManager")
local GuiService = game:GetService("GuiService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Auto Reel Function
function AutoReel()
    while autoReel do
        task.wait(autoShakeDelay)
        local PlayerGUI = LocalPlayer:FindFirstChild("PlayerGui")
        if not PlayerGUI then continue end

        local shakeUI = PlayerGUI:FindFirstChild("shakeui")
        if shakeUI and shakeUI.Enabled then
            local safezone = shakeUI:FindFirstChild("safezone")
            if safezone then
                local button = safezone:FindFirstChild("button")
                if button and button:IsA("ImageButton") and button.Visible then
                    if autoShake then
                        local pos = button.AbsolutePosition
                        local size = button.AbsoluteSize
                        VirtualInputManager:SendMouseButtonEvent(pos.X + size.X / 2, pos.Y + size.Y / 2, 0, true, LocalPlayer, 0)
                        VirtualInputManager:SendMouseButtonEvent(pos.X + size.X / 2, pos.Y + size.Y / 2, 0, false, LocalPlayer, 0)
                    elseif autoShake2 then
                        GuiService.SelectedObject = button
                        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, game)
                        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, game)
                    end
                end
            end
        end
    end
end

-- Auto Cast Function (For Any Rod)
function AutoCast()
    while autoCast do
        local character = LocalPlayer.Character
        if character then
            local tool = character:FindFirstChildOfClass("Tool")
            if tool then
                local hasBobber = tool:FindFirstChild("bobber")
                if not hasBobber then
                    local castEvent = tool:FindFirstChild("events") and tool.events:FindFirstChild("cast")
                    if castEvent then
                        local RandomStrength = math.random(90, 99)
                        castEvent:FireServer(RandomStrength)

                        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                        if humanoidRootPart then
                            humanoidRootPart.Anchored = false
                        end
                    end
                end
            end
        end
        task.wait(1)
    end
end

-- UI Controls
Window:AddToggle("Auto Cast", function(value)
    autoCast = value
    if value then
        task.spawn(AutoCast)
    end
end)

Window:AddToggle("Auto Reel", function(value)
    autoReel = value
    if value then
        task.spawn(AutoReel)
    end
end)

Window:AddToggle("Auto Shake (Mouse Click)", function(value)
    autoShake = value
end)

Window:AddToggle("Auto Shake (Keyboard Enter)", function(value)
    autoShake2 = value
end)

Window:AddSlider("Shake Delay", 0.1, 1, function(value)
    autoShakeDelay = value
end)

Notification:Success("Fishing Script Loaded Successfully!")
